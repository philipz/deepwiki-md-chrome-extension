<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mermaid è½‰æ›æ¸¬è©¦é é¢</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Arial, sans-serif;
      max-width: 1400px;
      margin: 0 auto;
      padding: 20px;
      background: #f5f5f5;
    }
    .container {
      background: white;
      border-radius: 8px;
      padding: 20px;
      margin-bottom: 20px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    h1 {
      color: #333;
      border-bottom: 2px solid #007bff;
      padding-bottom: 10px;
    }
    h2 {
      color: #555;
      margin-top: 30px;
    }
    .test-case {
      border: 1px solid #ddd;
      border-radius: 4px;
      padding: 15px;
      margin-bottom: 20px;
    }
    .test-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 15px;
    }
    .test-title {
      font-size: 18px;
      font-weight: bold;
      color: #007bff;
    }
    .test-status {
      padding: 5px 15px;
      border-radius: 4px;
      font-weight: bold;
      font-size: 14px;
    }
    .status-pending {
      background: #ffc107;
      color: #000;
    }
    .status-pass {
      background: #28a745;
      color: white;
    }
    .status-fail {
      background: #dc3545;
      color: white;
    }
    .svg-container {
      border: 1px solid #e0e0e0;
      padding: 10px;
      margin: 10px 0;
      background: #fafafa;
      overflow-x: auto;
    }
    pre {
      background: #f4f4f4;
      padding: 15px;
      border-radius: 4px;
      overflow-x: auto;
      border-left: 4px solid #007bff;
    }
    code {
      font-family: 'Courier New', monospace;
      font-size: 14px;
    }
    button {
      background: #007bff;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 4px;
      cursor: pointer;
      font-size: 16px;
      margin-right: 10px;
    }
    button:hover {
      background: #0056b3;
    }
    button:disabled {
      background: #ccc;
      cursor: not-allowed;
    }
    .instructions {
      background: #e7f3ff;
      border-left: 4px solid #007bff;
      padding: 15px;
      margin-bottom: 20px;
    }
    .instructions h3 {
      margin-top: 0;
      color: #007bff;
    }
    .instructions ol {
      margin: 10px 0;
      padding-left: 25px;
    }
    .instructions li {
      margin: 8px 0;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>ğŸ§ª DeepWiki to Markdown - Mermaid è½‰æ›æ¸¬è©¦</h1>

    <div class="instructions">
      <h3>ğŸ“– æ¸¬è©¦èªªæ˜</h3>
      <p><strong style="color: #dc3545;">âš ï¸ é¦–æ¬¡ä½¿ç”¨å¿…é ˆæ“ä½œï¼ˆé‡è¦ï¼ï¼‰ï¼š</strong></p>
      <ol style="background: #fff3cd; padding: 15px; border-radius: 4px; margin-bottom: 15px;">
        <li><strong>å•Ÿç”¨æª”æ¡ˆå­˜å–æ¬Šé™</strong>ï¼š
          <ol style="margin-top: 8px;">
            <li>é–‹å•Ÿ <code>chrome://extensions/</code></li>
            <li>æ‰¾åˆ° "DeepWiki to Markdown" æ“´å……åŠŸèƒ½</li>
            <li>é»é¸ <strong>"è©³ç´°è³‡æ–™"</strong> æŒ‰éˆ•</li>
            <li>å‘ä¸‹æ²å‹•ï¼Œæ‰¾åˆ° <strong>"å…è¨±å­˜å–æª”æ¡ˆç¶²å€"</strong> é¸é …</li>
            <li><strong>é–‹å•Ÿ</strong>é€™å€‹é¸é … âœ…</li>
          </ol>
        </li>
        <li><strong>é‡æ–°è¼‰å…¥æ“´å……åŠŸèƒ½</strong>ï¼šå›åˆ° <code>chrome://extensions/</code>ï¼Œé»é¸é‡æ–°æ•´ç†åœ–ç¤º ğŸ”„</li>
        <li>é‡æ–°æ•´ç†æ­¤æ¸¬è©¦é é¢ (F5)</li>
      </ol>
      <p style="background: #e7f3ff; padding: 10px; border-radius: 4px; margin-bottom: 15px;">
        <strong>ğŸ’¡ ç‚ºä»€éº¼éœ€è¦é€™æ¨£åšï¼Ÿ</strong><br>
        Chrome çš„å®‰å…¨æ©Ÿåˆ¶è¦æ±‚ä½¿ç”¨è€…æ˜ç¢ºæˆæ¬Šæ“´å……åŠŸèƒ½å­˜å–æœ¬æ©Ÿæª”æ¡ˆï¼ˆ<code>file://</code> å”å®šï¼‰ã€‚
        å¦‚æœä¸å•Ÿç”¨æ­¤æ¬Šé™ï¼Œæœƒçœ‹åˆ°éŒ¯èª¤ï¼š<code>Could not establish connection</code>
      </p>
      <p><strong>æ­£å¸¸æ¸¬è©¦æµç¨‹ï¼š</strong></p>
      <ol>
        <li>ç¢ºä¿å·²åœ¨ Chrome ä¸­è¼‰å…¥ DeepWiki to Markdown æ“´å……åŠŸèƒ½</li>
        <li>é–‹å•Ÿæ­¤é é¢å¾Œï¼Œé»é¸æ“´å……åŠŸèƒ½åœ–ç¤º</li>
        <li>é»é¸ "Download Current Page" ä¸‹è¼‰è½‰æ›å¾Œçš„ Markdown</li>
        <li>é–‹å•Ÿä¸‹è¼‰çš„ .md æª”æ¡ˆï¼ŒæŸ¥çœ‹ Mermaid ç¨‹å¼ç¢¼å€å¡Š</li>
        <li>å°æ¯”ä¸‹æ–¹ã€ŒæœŸæœ›è¼¸å‡ºã€ï¼Œé©—è­‰è½‰æ›æ˜¯å¦æ­£ç¢º</li>
      </ol>
      <p><strong>æˆ–è€…ï¼š</strong></p>
      <ol>
        <li>é–‹å•Ÿç€è¦½å™¨é–‹ç™¼äººå“¡å·¥å…· (F12)</li>
        <li>åœ¨ Console ä¸­æ‰‹å‹•åŸ·è¡Œè½‰æ›å‡½æ•¸</li>
        <li>å°æ¯”è¼¸å‡ºçµæœ</li>
      </ol>
    </div>
  </div>

  <!-- æ¸¬è©¦æ¡ˆä¾‹ 1ï¼šé¡åˆ¥åœ– -->
  <div class="container">
    <div class="test-case">
      <div class="test-header">
        <div class="test-title">æ¸¬è©¦ 1ï¼šé¡åˆ¥åœ– (Class Diagram) - note for</div>
        <div class="test-status status-pending">å¾…æ¸¬è©¦</div>
      </div>

      <h3>è¼¸å…¥ (SVG)ï¼š</h3>
      <div class="svg-container" id="test1-svg">
        <!-- é€™è£¡æ‡‰è©²è²¼ä¸Š test_class_diagram.md ä¸­çš„ SVG ç¨‹å¼ç¢¼ -->
        <p style="color: #666; font-style: italic;">
          è«‹å¾ test_class_diagram.md è¤‡è£½ SVG ç¨‹å¼ç¢¼åˆ°é€™è£¡<br>
          æˆ–è€…ç›´æ¥é–‹å•ŸåŒ…å«é¡åˆ¥åœ–çš„ DeepWiki é é¢é€²è¡Œæ¸¬è©¦
        </p>
      </div>

      <h3>æœŸæœ›è¼¸å‡º (Mermaid)ï¼š</h3>
      <pre><code>classDiagram
    note for Presenter "Singleton exported as 'presenter'"
    class IPresenter {
        Â«interfaceÂ»
        +windowPresenter: IWindowPresenter
        +sqlitePresenter: ISQLitePresenter
        +llmproviderPresenter: ILlmProviderPresenter
        +configPresenter: IConfigPresenter
        +threadPresenter: IThreadPresenter
        +devicePresenter: IDevicePresenter
        +upgradePresenter: IUpgradePresenter
        +shortcutPresenter: IShortcutPresenter
        +filePresenter: IFilePresenter
        +mcpPresenter: IMCPPresenter
        +syncPresenter: ISyncPresenter
        +deeplinkPresenter: IDeeplinkPresenter
        +init()
        +destroy()
    }
    class Presenter {
        -windowPresenter: WindowPresenter
        -sqlitePresenter: SQLitePresenter
        -llmproviderPresenter: LLMProviderPresenter
        -configPresenter: ConfigPresenter
        -threadPresenter: ThreadPresenter
        -mcpPresenter: McpPresenter
        -upgradePresenter: UpgradePresenter
        -shortcutPresenter: ShortcutPresenter
        -filePresenter: FilePresenter
        -syncPresenter: SyncPresenter
        -deeplinkPresenter: DeeplinkPresenter
        +setupEventBus()
        +init()
        +destroy()
    }
    IPresenter <|.. Presenter</code></pre>

      <h3>é©—è­‰é‡é»ï¼š</h3>
      <ul>
        <li>âœ“ é¡åˆ¥çš„ interface è¨»è§£æ˜¯å¦ä¿ç•™</li>
        <li>âœ“ å±¬æ€§å’Œæ–¹æ³•æ˜¯å¦å®Œæ•´</li>
        <li>âœ“ ç¹¼æ‰¿é—œä¿‚ç¬¦è™Ÿ <code>&lt;|..</code> æ˜¯å¦æ­£ç¢º</li>
        <li>âœ“ note for è¨»è§£æ˜¯å¦æ­£ç¢ºé—œè¯</li>
      </ul>
    </div>
  </div>

  <!-- æ¸¬è©¦æ¡ˆä¾‹ 2ï¼šæµç¨‹åœ– -->
  <div class="container">
    <div class="test-case">
      <div class="test-header">
        <div class="test-title">æ¸¬è©¦ 2ï¼šæµç¨‹åœ– (Flow Chart) - subgraph</div>
        <div class="test-status status-pending">å¾…æ¸¬è©¦</div>
      </div>

      <h3>è¼¸å…¥ (SVG)ï¼š</h3>
      <div class="svg-container" id="test2-svg">
        <p style="color: #666; font-style: italic;">
          è«‹å¾ test_flow_chart.md è¤‡è£½ SVG ç¨‹å¼ç¢¼åˆ°é€™è£¡<br>
          æˆ–è€…ç›´æ¥é–‹å•ŸåŒ…å«æµç¨‹åœ–çš„ DeepWiki é é¢é€²è¡Œæ¸¬è©¦
        </p>
      </div>

      <h3>æœŸæœ›è¼¸å‡º (Mermaid)ï¼š</h3>
      <pre><code>flowchart TD
    subGraph0["Application Layer"]
    subGraph1["HTTP Client Layer"]
    subGraph2["Network Services Layer"]
    subGraph3["Hardware Driver Layer"]
    subGraph4["Hardware Layer"]

    main_py["main.py<br>User Application"]
    examples["ASP.NET Examples<br>Form Authentication"]
    requests_py["sma_esp32_w5500_requests<br>Session & Response Classes"]
    dhcp_py["wiznet5k_dhcp<br>DHCP Client"]
    dns_py["wiznet5k_dns<br>DNS Resolver"]
    socket_py["wiznet5k_socket<br>BSD Socket Interface"]
    wiznet5k_py["wiznet5k.WIZNET5K<br>Core W5500 Driver"]
    spi["SPI Interface<br>GPIO 18,19,23"]
    w5500["W5500 Chip<br>Ethernet Controller"]
    ethernet["Ethernet Network"]

    main_py --> requests_py
    examples --> requests_py
    requests_py --> socket_py
    requests_py --> dhcp_py
    requests_py --> dns_py
    socket_py --> wiznet5k_py
    dhcp_py --> wiznet5k_py
    dns_py --> wiznet5k_py
    wiznet5k_py --> spi
    spi --> w5500
    w5500 --> ethernet</code></pre>

      <h3>é©—è­‰é‡é»ï¼š</h3>
      <ul>
        <li>âœ“ subgraph å±¤ç´šçµæ§‹æ˜¯å¦ä¿ç•™</li>
        <li>âœ“ ç¯€é»ä¹‹é–“çš„é€£æ¥æ˜¯å¦å®Œæ•´</li>
        <li>âœ“ ç¯€é»æ¨™ç±¤ï¼ˆåŒ…å«æ›è¡Œï¼‰æ˜¯å¦æ­£ç¢º</li>
        <li>âœ“ ç®­é ­æ–¹å‘æ˜¯å¦æ­£ç¢º</li>
      </ul>
    </div>
  </div>

  <!-- æ¸¬è©¦æ¡ˆä¾‹ 3ï¼šæ™‚åºåœ– -->
  <div class="container">
    <div class="test-case">
      <div class="test-header">
        <div class="test-title">æ¸¬è©¦ 3ï¼šæ™‚åºåœ– (Sequence Diagram) - note and self arrow</div>
        <div class="test-status status-pending">å¾…æ¸¬è©¦</div>
      </div>

      <h3>è¼¸å…¥ (SVG)ï¼š</h3>
      <div class="svg-container" id="test3-svg">
        <p style="color: #666; font-style: italic;">
          è«‹å¾ test_sequence_diagram.md è¤‡è£½ SVG ç¨‹å¼ç¢¼åˆ°é€™è£¡<br>
          æˆ–è€…ç›´æ¥é–‹å•ŸåŒ…å«æ™‚åºåœ–çš„ DeepWiki é é¢é€²è¡Œæ¸¬è©¦
        </p>
      </div>

      <h3>æœŸæœ›è¼¸å‡º (Mermaid)ï¼š</h3>
      <pre><code>sequenceDiagram
    participant "Main Process"
    participant "Presenter"
    participant "ConfigPresenter"
    participant "WindowPresenter"
    participant "LLMProviderPresenter"
    participant "ThreadPresenter"
    participant "EventBus"
    participant "IPC Channel"
    participant SQLite
    participant Other

    note over "IPC Channel",Other: "IPC Communication Setup"

    "Main Process"-&gt;&gt;"Presenter": "Create Presenter"
    "Presenter"-&gt;&gt;"ConfigPresenter": "Create ConfigPresenter"
    "Presenter"-&gt;&gt;"WindowPresenter": "Create WindowPresenter(configPresenter)"
    "Presenter"-&gt;&gt;"LLMProviderPresenter": "Create LLMProviderPresenter(configPresenter)"
    "Presenter"-&gt;&gt;SQLite: "Create SQLitePresenter"
    "Presenter"-&gt;&gt;"ThreadPresenter": "Create ThreadPresenter(sqlitePresenter, llmProviderPresenter, configPresenter)"
    "Presenter"-&gt;&gt;Other: "Create other presenters"
    "Presenter"-&gt;&gt;"EventBus": "setupEventBus()"
    "WindowPresenter"--&gt;&gt;"EventBus": "emit WINDOW_EVENTS.READY_TO_SHOW"
    "EventBus"--&gt;&gt;"Presenter": "handle WINDOW_EVENTS.READY_TO_SHOW"
    "Presenter"-&gt;&gt;"Presenter": "init()"
    "Presenter"-&gt;&gt;"LLMProviderPresenter": "setProviders(configPresenter.getProviders())"
    "Presenter"-&gt;&gt;"Presenter": "syncCustomModels()"
    "Main Process"-&gt;&gt;"IPC Channel": "Register ipcMain.handle('presenter:call')"</code></pre>

      <h3>é©—è­‰é‡é»ï¼š</h3>
      <ul>
        <li>âœ“ åƒèˆ‡è€…ï¼ˆparticipantï¼‰é †åºæ˜¯å¦æ­£ç¢º</li>
        <li>âœ“ è¨Šæ¯ç®­é ­é¡å‹ï¼ˆ-&gt;&gt;ã€--&gt;&gt;ï¼‰æ˜¯å¦æ­£ç¢º</li>
        <li>âœ“ è‡ªå‘¼å«ç®­é ­æ˜¯å¦è­˜åˆ¥</li>
        <li>âœ“ note over è¨»è§£ä½ç½®æ˜¯å¦æ­£ç¢º</li>
        <li>âœ“ è¨Šæ¯æ¨™ç±¤æ˜¯å¦å®Œæ•´</li>
      </ul>
    </div>
  </div>

  <div class="container">
    <h2>ğŸ”§ é™¤éŒ¯å·¥å…·</h2>
    <p>é–‹å•Ÿç€è¦½å™¨æ§åˆ¶å° (F12)ï¼Œå¯ä»¥çœ‹åˆ°è©³ç´°çš„è½‰æ›æ—¥èªŒï¼ˆå¦‚æœ DEBUG_MODE å·²å•Ÿç”¨ï¼‰</p>
    <button onclick="checkExtension()">æª¢æŸ¥æ“´å……åŠŸèƒ½æ˜¯å¦å·²è¼‰å…¥</button>
    <button onclick="window.location.reload()">é‡æ–°æ•´ç†é é¢</button>
  </div>

  <script>
    function checkExtension() {
      // æª¢æŸ¥æ“´å……åŠŸèƒ½æ˜¯å¦å·²æ³¨å…¥è…³æœ¬
      if (typeof chrome !== 'undefined' && chrome.runtime) {
        alert('âœ… Chrome æ“´å……åŠŸèƒ½ API å¯ç”¨\nè«‹é»é¸æ“´å……åŠŸèƒ½åœ–ç¤ºé€²è¡Œæ¸¬è©¦');
      } else {
        alert('âš ï¸ ç„¡æ³•åµæ¸¬åˆ°æ“´å……åŠŸèƒ½\nè«‹ç¢ºä¿ï¼š\n1. æ“´å……åŠŸèƒ½å·²åœ¨ chrome://extensions/ ä¸­è¼‰å…¥\n2. é é¢å·²é‡æ–°æ•´ç†');
      }
    }

    // é é¢è¼‰å…¥å®Œæˆå¾Œçš„æç¤º
    window.addEventListener('load', () => {
      console.log('%cğŸ§ª DeepWiki to Markdown æ¸¬è©¦é é¢å·²è¼‰å…¥', 'color: #007bff; font-size: 16px; font-weight: bold;');
      console.log('%cè«‹é»é¸æ“´å……åŠŸèƒ½åœ–ç¤ºé–‹å§‹æ¸¬è©¦', 'color: #28a745; font-size: 14px;');
      console.log('%cæˆ–æŸ¥çœ‹é é¢ä¸­çš„è©³ç´°èªªæ˜', 'color: #666; font-size: 12px;');
    });
  </script>
</body>
</html>
